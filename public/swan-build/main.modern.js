const e=window.Globals,t=e.react,n=e.three,a=e["@react-three/drei"],o=t.useEffect,r=t.useState,l=t.useRef,i=e["@react-three/fiber"].useFrame,s=a.useGLTF,c=(0,e.zustand.create)(e=>({openOverlay:!1,baseURL:"",text:"Click Box",setBaseURL:({baseURL:t})=>{"/"===t[t.length-1]&&t.slice(0,t.length-1),e({baseURL:t})}}));let{Clock:w}=n,{MeshTransmissionMaterial:d,Text3D:m,Center:u}=a;function h(){let e=c(e=>e.baseURL),t=c(e=>e.text),n=l();return o(()=>{let e=new w,t=({detail:t})=>{e.getDelta();let a=t.animatedScroll,o=t.dimensions.scrollHeight-t.dimensions.height;console.log(a/o),n.current&&(n.current.rotation.y=a/o*Math.PI*2)};return window.addEventListener("lenis-scroll",t),()=>{window.removeEventListener("lenis-scroll",t)}},[]),o(()=>{e&&fetch(`${e}/api/hi`).then(e=>e.ok?e.json():{}).then(e=>e.rand).then(e=>{c.setState({text:`hi from server. \nrandom number - ${(100*e).toFixed(0)}`})})},[e]),window.React.createElement(window.React.Fragment,null,window.React.createElement("group",{ref:n},window.React.createElement(u,null,window.React.createElement(m,{height:.0125,bevelSize:.025,bevelSegments:5,bevelThickness:.1,scale:1,bevelEnabled:!0,font:`${e}/fonts/days-font/Days_Regular.json`},`${t}`,window.React.createElement(d,{transmission:1,thickness:1,roughness:.3,color:"#ffffff",attenuationDistance:5,attenuationColor:"#0000ff",metalness:0,reflectivity:.5,chromaticAberration:0,transmissionSampler:!0,temporalDistortion:.5})))))}let{MeshTransmissionMaterial:f,Center:p}=a,{useRef:R}=t;function g(){let e=c(e=>e.baseURL),t=s(`${e}/geometry/box.glb`);t.scene=t.scene.clone(!0);let n=!1;t.scene.traverse(e=>{e.geometry&&!n&&(n=e.geometry)});let a=R();return i((e,t)=>{a.current.rotation.y+=1.1*t,a.current.scale.setScalar(1+.25*Math.sin(3*e.clock.elapsedTime))}),window.React.createElement(window.React.Fragment,null,window.React.createElement("group",{onClick:()=>{c.setState({openOverlay:!c.getState().openOverlay})}},window.React.createElement(p,null,window.React.createElement("mesh",{ref:a,geometry:n},window.React.createElement(f,{transmission:1,thickness:1,roughness:.3,color:"#ffffff",attenuationDistance:5,attenuationColor:"#ff00ff",metalness:0,reflectivity:.5,chromaticAberration:0,transmissionSampler:!0,temporalDistortion:.5})))))}function b({children:e,baseURL:t,preloader:n=null,onReady:a=(()=>{})}){let[l,i]=r(!1);return o(()=>{t&&c.getState().setBaseURL({baseURL:t}),new Promise(e=>{e()}).then(()=>{a(),i(!0)})},[t,a]),l?e:n}function E(){return window.React.createElement(window.React.Fragment,null,window.React.createElement("group",null,window.React.createElement("group",{position:[0,2,0]},window.React.createElement(h,null)),window.React.createElement("group",{position:[0,-2,0]},window.React.createElement(g,null))))}function x(){let e=c(e=>e.openOverlay),t=c(e=>e.text);return window.React.createElement(window.React.Fragment,null,e&&window.React.createElement(window.React.Fragment,null,window.React.createElement("div",{style:{position:"absolute",top:"0%",right:"0%",width:"100%",height:"100%"},onClick:()=>{c.setState({openOverlay:!1})}}),window.React.createElement("div",{className:"shadow-2xl backdrop-blur-lg p-1 text-white rounded-2xl",style:{position:"absolute",top:"5%",right:"25%",width:"calc(50% + 0.75rem * 2)",height:"calc(10% + 0.75rem * 2)",border:"1px solid #888",boxShadow:"0px 0px 30px 0px #888"}},window.React.createElement("textarea",{className:"bg-transparent h-full p-3 w-full block text-white appearance-none bg-opacity-0 border-none outline-none focus:outline-none ",defaultValue:t,style:{background:"transparent",appearance:"none",resize:"none",outline:"none"},onChange:e=>{c.setState({text:e.target.value})}}))))}export{x as HTMLOverlay,b as Runtime,E as SmartObject};
